<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>gamedev</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* These styles ensure the page content fits properly in the iframe */
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        
        /* Position volume control in gamedev page */
        .volume-control {
            position: absolute;
            top: 15px;
            right: 15px;
            z-index: 20;
        }
    </style>

</head>
<body>
    <div class="catalog">
        <div class="catalog-header">
            <h2>gamedev</h2>
        </div>
        
        <div class="catalog-item catalog-item-full has-video">
            <div class="catalog-item-video">
                <video controls poster="assets/content/gamedev/whirl_trailer_thumbnail.png">
                    <source src="assets/content/gamedev/whirl_trailer.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
            <div class="video-details">
                <h3 class="video-title">Whirl Whirl !</h3>
                <p class="video-description">A PS1 Boomer Shooter with Junji Ito influences I made with Za3look during the 2025 Boss Rush Gamejam.</p>
                <a href="https://za3look.itch.io/whirl-whirl" target="_blank" rel="noopener noreferrer">Try it on Itch here</a>
            </div>
        </div>

        <div class="catalog-item catalog-item-full has-video">
            <div class="catalog-item-video">
                <video controls poster="assets/content/gamedev/megastructure_vr_thumbnail.png">
                    <source src="assets/content/gamedev/megastructure_vr_trailer.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
            <div class="video-details">
                <h3 class="video-title">MEGASTRUCTURE CH.1</h3>
                <p class="video-description">Immerse yourself in a cold‚ dark and gentle megastructure inspired by the art of Tsutomu Nihei․ Can you sync the structure ?</p>
                <a href="https://vrchat.com/home/launch?worldId=wrld_c2c99015-d2f1-4b8e-b633-931c342524db" target="_blank" rel="noopener noreferrer">Try it on VRC here</a>
            </div>
        </div>
            
            </div>            
            <!-- Many more items can be added, the container will scroll -->
        </div>
    </div>
    
    <!-- Volume control -->
    <div class="volume-control">
        <span class="volume-icon">VOL</span>
        <input type="range" min="0" max="1" step="0.1" value="0.5" class="volume-slider" id="volume-slider">
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const backgroundAudio = parent.document.getElementById('background-audio');

            // --- Volume Slider Logic ---
            const volumeSlider = document.getElementById('volume-slider');
            if (volumeSlider) {
                volumeSlider.addEventListener('input', function() {
                    if (backgroundAudio) {
                        backgroundAudio.volume = this.value;
                    }
                });
            }

            // --- Media Pause/Resume Logic ---
            function pauseBackgroundMusic() {
                if (backgroundAudio) {
                    backgroundAudio.pause();
                }
            }

            function resumeBackgroundMusic() {
                if (backgroundAudio) {
                    backgroundAudio.play();
                }
            }

            const allMediaPlayers = document.querySelectorAll('video, audio');
            allMediaPlayers.forEach(function(player) {
                player.addEventListener('play', pauseBackgroundMusic);
                player.addEventListener('pause', resumeBackgroundMusic);
            });
        });
    </script>
    <div class="volume-control">
        <span class="volume-icon">VOL</span>
        <input type="range" min="0" max="1" step="0.1" value="0.5" class="volume-slider" id="volume-slider">
    </div>
    <script>
        document.getElementById('volume-slider').addEventListener('input', function() {
            const audio = parent.document.getElementById('background-audio');
            if (audio) {
                audio.volume = this.value;
            }
        });
    </script>
</body>
</html>